<div class="dashhead">
  <div class="dashhead-titles">
    <h6 class="dashhead-subtitle">All your applications</h6>
    <h3 class="dashhead-title">Applications</h3>
  </div>
</div>

<cs-loading *ngIf="!ingredients"></cs-loading>

<div class="row" *ngIf="ingredients && ingredients.length === 0">
  <div class="text-center col-lg-12">
    <hr>
    You have no applications! What about <a [routerLink]="['/templates']">instantiating</a> one from a template?
  </div>
</div>

<div class="row">
  <div class="col-lg-12" *ngIf="ingredients && ingredients.length > 0">
      <table class="table table-striped table-hover">
          <thead>
          <tr>
              <th>Application</th>
              <th>Stats</th>
              <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let ingredient of ingredients" [routerLink]="['/applications/', ingredient.id]">
              <td>{{ ingredient.name }}</td>
              <td>
                <small>
                  {{countIngredients(ingredient)}} ingredients, {{countConstraints(ingredient)}} constraints
                </small>
              </td>
              <td>
                <button [ngClass]="{'disabled': ingredient.isCopying}" class="btn btn-xs btn-info" (click)="copyIngredient(ingredient)">
                  <i [ngClass]="{'fa-copy': !ingredient.isCopying, 'fa-spin': ingredient.isCopying, 'fa-circle-o-notch': ingredient.isCopying}" class="fa"></i> Copy
                </button>
                <button class="btn btn-xs btn-danger" (click)="deleteIngredient(ingredient)">
                  <i class="fa fa-trash"></i> Delete
                </button>
              </td>

          </tr>
          </tbody>
      </table>
    </div>
</div>
